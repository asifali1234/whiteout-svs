<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Admin Dashboard – Whiteout SVS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/theme.css" />
</head>

<body class="admin-bg">

<div id="authLoader" class="auth-loader">
    <div class="spinner"></div>
    <p>Loading Whiteout SVS…</p>
</div>

<div id="appRoot" class="hidden">

<!-- ================= MODALS ================= -->

<!-- EDIT USER MODAL -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <h3>Edit User</h3>

        <input type="hidden" id="editEmail" />

        <label>Player ID
            <input type="text" id="editPlayerId" />
        </label>

        <label>In-game Name
            <input type="text" id="editIngameName" />
        </label>

        <label>Alliance
            <select id="editAlliance"></select>
        </label>

        <label>Status
            <select id="editStatus">
                <option value="approved">Approved</option>
                <option value="pending">Pending</option>
                <option value="rejected">Rejected</option>
            </select>
        </label>

        <label>Role
            <select id="editRole">
                <option value="member">Member</option>
                <option value="admin">Admin</option>
            </select>
        </label>

        <div class="modal-actions">
            <button class="secondary" id="cancelEditBtn">Cancel</button>
            <button class="primary" id="saveEditBtn">Save</button>
        </div>
    </div>
</div>

<!-- CREATE INVITE MODAL -->
<div id="inviteModal" class="modal">
    <div class="modal-content">
        <h3>Create Invite</h3>

        <label>Email
            <input type="email" id="inviteEmail" />
        </label>

        <label>Player ID
            <input type="text" id="invitePlayerId" />
        </label>

        <label>In-game Name
            <input type="text" id="inviteIngameName" />
        </label>

        <label>Alliance
            <select id="inviteAlliance"></select>
        </label>

        <div class="modal-actions">
            <button class="secondary" id="cancelInviteBtn">Cancel</button>
            <button class="primary" id="createInviteBtn">Create</button>
        </div>
    </div>
</div>

<!-- ALLIANCE MODAL -->
<div id="allianceModal" class="modal">
    <div class="modal-content">
        <h3>Alliance</h3>

        <label>Alliance ID
            <input id="allianceIdInput" />
        </label>

        <label>Short Name
            <input id="allianceShortNameInput" />
        </label>

        <label>Name
            <input id="allianceNameInput" />
        </label>

        <label>Status
            <select id="allianceStatusInput">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
            </select>
        </label>

        <div class="modal-actions">
            <button class="secondary" id="cancelAllianceBtn">Cancel</button>
            <button class="primary" id="saveAllianceBtn">Save</button>
        </div>
    </div>
</div>

<!-- ================= PAGE ================= -->

    <header class="admin-header">
        <h2>Whiteout SVS – Member Dashboard</h2>

        <div class="header-actions">
            <button id="profileBtn" class="primary-btn hidden">
                Profile
            </button>

            <button id="adminBtn" class="primary-btn hidden">
                Admin Dashboard
            </button>

            <button id="logoutBtn" class="danger-btn">
                Logout
            </button>
        </div>
    </header>

<div class="tabs">
    <button class="tab-btn active" data-tab="alliances">Alliances</button>
    <button class="tab-btn" data-tab="invites">Invites</button>
    <button class="tab-btn" data-tab="pending">Pending Users</button>
    <button class="tab-btn" data-tab="approved">Approved Users</button>
</div>

<div id="tab-alliances" class="tab-panel active">
    <div class="loader"></div>
    <button id="openAllianceModalBtn" class="primary-btn">+ Create Alliance</button>
    <table id="allianceTable"></table>
</div>



<div id="tab-invites" class="tab-panel">
    <div class="loader"></div>
    <button id="openInviteModalBtn" class="primary-btn">+ Create Invite</button>
    <input
            type="text"
            class="search-input"
            placeholder="Search invites (email, ID, name, alliance)"
            data-search="invites"
    />
    <table id="inviteTable"></table>
</div>




<div id="tab-pending" class="tab-panel">
    <div class="loader"></div>
    <input
            type="text"
            class="search-input"
            placeholder="Search pending users"
            data-search="pending"
    />
    <table id="pendingTable"></table>
</div>




<div id="tab-approved" class="tab-panel">
    <div class="loader"></div>
    <input
            type="text"
            class="search-input"
            placeholder="Search approved users"
            data-search="approved"
    />
    <table id="approvedTable"></table>
</div>

<div id="toastContainer" class="toast-container"></div>

<!-- ================= SCRIPTS ================= -->
<script type="module" src="./js/firebase.js"></script>
<script type="module" src="./js/auth-google.js"></script>
<script type="module" src="./js/auth-state.js"></script>
<script type="module" src="./js/admin.js"></script>

</div>
</body>


</html>
